<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ImunizaQuiz</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(to bottom, #ffffff, #a8d0f0);
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      flex-direction: column;
      text-align: center;
    }

    h1 {
      color: #003366;
      font-size: 2.5rem;
      margin-bottom: 10px;
    }

    #game-container {
      background: white;
      padding: 20px;
      border-radius: 20px;
      box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
      width: 90%;
      max-width: 400px;
    }

    .btn {
      display: block;
      width: 100%;
      background-color: #007bff;
      color: white;
      border: none;
      padding: 10px;
      margin-top: 10px;
      border-radius: 10px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .btn:hover {
      background-color: #0056b3;
    }

    #cronometro {
      text-align: right;
      font-weight: 700;
      color: #1E3A8A;
      margin-bottom: 8px;
      font-size: 1rem;
    }

    img {
      width: 100%;
      border-radius: 10px;
      margin-bottom: 10px;
    }

    #score {
      font-size: 1.5rem;
      color: #003366;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>ImunizaQuiz</h1>
  <img src="foto.png" alt="Equipe ImunizaQuiz">
  
  <div id="game-container">
    <div id="start-screen">
      <p>Digite seu nome para come√ßar:</p>
      <input type="text" id="player-name" placeholder="Seu nome">
      <button class="btn" id="start-btn">Come√ßar</button>
    </div>

    <div id="quiz-screen" style="display: none;">
      <div id="cronometro"></div>
      <p id="question"></p>
      <div id="options"></div>
    </div>

    <div id="end-screen" style="display: none;">
      <p>Quiz finalizado!</p>
      <p id="score"></p>
    </div>
  </div>

  <script>
    const QUESTIONS = [
      { q: "O que √© imuniza√ß√£o?", a: ["Processo de deixar o corpo imune a doen√ßas", "Tipo de alergia", "Rem√©dio para gripe"], correct: 0 },
      { q: "Qual √≥rg√£o √© respons√°vel pela defesa do corpo?", a: ["F√≠gado", "Sistema imunol√≥gico", "Pulm√µes"], correct: 1 },
      { q: "Qual √© a principal forma de preven√ß√£o contra doen√ßas infecciosas?", a: ["Vacina√ß√£o", "Atividade f√≠sica", "Higiene"], correct: 0 },
      // ... (coloque aqui at√© 15 perguntas)
    ];

    const player = { name: "", score: 0 };
    let index = 0;

    const startScreen = document.getElementById("start-screen");
    const quizScreen = document.getElementById("quiz-screen");
    const endScreen = document.getElementById("end-screen");

    document.getElementById("start-btn").addEventListener("click", () => {
      const name = document.getElementById("player-name").value.trim();
      if (name === "") return alert("Digite seu nome!");
      player.name = name;
      startScreen.style.display = "none";
      quizScreen.style.display = "block";
      renderQuestion();
    });

    function renderQuestion() {
      iniciarCronometro(); // <--- cron√¥metro inicia aqui
      const q = QUESTIONS[index];
      document.getElementById("question").textContent = q.q;
      const optionsDiv = document.getElementById("options");
      optionsDiv.innerHTML = "";

      q.a.forEach((opt, i) => {
        const btn = document.createElement("button");
        btn.textContent = opt;
        btn.classList.add("btn");
        btn.addEventListener("click", () => {
          pararCronometro(); // <--- cron√¥metro para ao responder
          if (i === q.correct) player.score += 10;
          index++;
          if (index < QUESTIONS.length) renderQuestion();
          else finishGame();
        });
        optionsDiv.appendChild(btn);
      });
    }

    function finishGame() {
      quizScreen.style.display = "none";
      endScreen.style.display = "block";
      document.getElementById("score").textContent = `${player.name}, sua pontua√ß√£o foi: ${player.score} pontos!`;
    }

    function pularPerguntaPorTempo() {
      index++;
      if (index < QUESTIONS.length) renderQuestion();
      else finishGame();
    }
  </script>

  <script src="timer.js"></script>
</body>
</html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ImunizaQuiz</title>
<style>
  :root{
    --bg:#ffffff; --accentA:#1E3A8A; --accentB:#60A5FA;
    --muted:#475569; --text:#071024; --card:#FFFFFF; --radius:12px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;
    background:linear-gradient(180deg,#1E3A8A,#60A5FA);
    color:var(--text);padding:18px;display:flex;align-items:center;justify-content:center;
  }
  .wrap{width:100%;max-width:980px;border-radius:14px;padding:18px;box-shadow:0 12px 30px rgba(7,18,38,0.18);background:#ffffffee}
  header{text-align:center;margin-bottom:16px}
  .logo{width:70px;height:70px;border-radius:14px;background:linear-gradient(135deg,var(--accentA),var(--accentB));display:flex;align-items:center;justify-content:center;color:white;font-weight:900;font-size:22px;margin:0 auto 10px}
  h1{font-size:26px;margin:0;color:#071024}
  p.lead{margin:0;color:var(--muted);font-size:15px}
  .team-photo{width:100%;border-radius:14px;margin-top:16px;box-shadow:0 4px 10px rgba(0,0,0,0.12)}
  .layout{display:grid;grid-template-columns:1fr 300px;gap:14px;margin-top:12px}
  @media(max-width:860px){.layout{grid-template-columns:1fr}.sidebar{order:2}}
  .card{background:var(--card);border-radius:10px;padding:14px;box-shadow:0 8px 18px rgba(2,6,23,0.05)}
  input[type="text"]{padding:12px 14px;border-radius:10px;border:1px solid rgba(15,23,42,0.06);width:260px;font-size:15px}
  button{background:linear-gradient(90deg,var(--accentA),var(--accentB));color:white;border:none;padding:12px 14px;border-radius:10px;font-weight:700;cursor:pointer;font-size:15px}
  .muted{color:var(--muted);font-size:13px}
  .question-box{padding:14px;border-radius:10px;margin-top:8px;border:1px solid rgba(96,165,250,0.1);background:#fff}
  .question-text{font-weight:800;font-size:18px}
  .choices{display:grid;gap:10px;margin-top:12px}
  .choice{display:flex;gap:12px;align-items:center;padding:14px;border-radius:10px;background:#fff;border:1px solid rgba(15,23,42,0.06);cursor:pointer;user-select:none;font-size:15px}
  .choice:active{opacity:0.95}
  .tiny{font-size:13px;color:var(--muted)}
  .center{display:flex;justify-content:center;align-items:center;gap:10px}
  .leaderboard-item{display:flex;justify-content:space-between;padding:8px;border-radius:8px;border:1px dashed rgba(15,23,42,0.04);align-items:center;margin-bottom:8px}
  footer.small{margin-top:12px;color:var(--muted);font-size:12px;text-align:center}
  @media (max-width:420px){
    input[type="text"]{width:160px}
    .choice{padding:16px;font-size:16px}
    button{padding:12px 14px;font-size:16px}
  }
</style>
</head>
<body>
  <div class="wrap" role="main">
    <header>
      <div class="logo">IQ</div>
      <h1>ImunizaQuiz</h1>
      <p class="lead">Inova√ß√µes em imuniza√ß√£o & combate √† infodemia ‚Äî jogo para apresenta√ß√£o</p>
      <img src="foto.png" alt="Equipe ImunizaQuiz" class="team-photo">
    </header>

    <div class="layout">
      <div>
        <div class="card" id="gameCard">
          <!-- REGISTER -->
          <div id="registerScreen">
            <div style="display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap">
              <div>
                <div class="muted">Digite seu nome</div>
                <div style="margin-top:8px">
                  <input id="playerName" type="text" placeholder="Seu nome (apenas nome)" autocomplete="off" />
                </div>
              </div>
              <div style="text-align:right">
                <div class="tiny muted">Pronto?</div>
                <div style="margin-top:8px"><button id="startBtn">Come√ßar</button></div>
              </div>
            </div>
            <div style="margin-top:10px" class="tiny muted">Durante o jogo n√£o aparece tempo nem pontua√ß√£o ‚Äî s√≥ o resultado final no fim.</div>
          </div>

          <!-- QUIZ -->
          <div id="quizArea" style="display:none">
            <div class="question-box" aria-live="polite">
              <div class="muted tiny" id="qIndex">Pergunta 1 / 15</div>
              <div class="question-text" id="questionText">Carregando...</div>
              <div class="choices" id="choicesList"></div>
            </div>

            <div style="margin-top:12px;display:flex;gap:8px;align-items:center">
              <div class="tiny muted" id="progressPct">Progresso: 0%</div>
              <div style="margin-left:auto" class="tiny muted">Toque em uma resposta para avan√ßar.</div>
            </div>
          </div>

          <!-- END -->
          <div id="endScreen" style="display:none;margin-top:12px;text-align:center">
            <h2 style="margin:6px 0">Fim do ImunizaQuiz üéâ</h2>
            <div class="tiny muted">Pontua√ß√£o final</div>
            <div style="font-size:44px;font-weight:900;margin-top:8px" id="finalScore">0 pts</div>
            <div style="margin-top:14px;text-align:left" id="endBoard"></div>
            <div style="margin-top:12px" class="tiny muted">Para jogar novamente, recarregue a p√°gina (F5) ou abra o link de novo.</div>
          </div>
        </div>
        <footer class="small">Salve o arquivo como <code>index.html</code> e fa√ßa upload no GitHub Pages.</footer>
      </div>

      <!-- sidebar -->
      <aside class="sidebar">
        <div class="card">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div><div class="tiny muted">√öltimos (local)</div><div style="font-weight:800" id="topName">‚Äî</div></div>
            <div style="text-align:right"><div class="tiny muted">Maior</div><div style="font-weight:800" id="topScore">‚Äî</div></div>
          </div>

          <div style="margin-top:12px" id="leaderboardList"></div>

          <div style="margin-top:10px;display:flex;gap:8px">
            <button id="clearBoard" style="background:transparent;border:1px solid rgba(15,23,42,0.06);padding:8px 10px;border-radius:8px">Limpar placar</button>
            <button id="exportBtn" style="background:transparent;border:1px solid rgba(15,23,42,0.06);padding:8px 10px;border-radius:8px">Exportar JSON</button>
          </div>
          <div style="margin-top:10px" class="tiny muted">Placar salvo apenas neste navegador.</div>
        </div>
      </aside>
    </div>
  </div>

<script>
/* ===== CONFIG ===== */
const POINTS_PER_QUESTION = 10;
const SECONDS_PER_QUESTION = 15;
const QUESTIONS = [
  { q:"Qual √© o objetivo principal de uma vacina?", choices:["Curar uma doen√ßa j√° instalada","Estimular o sistema imune a reconhecer e combater um agente infeccioso","Substituir medicamentos","Aumentar a temperatura corporal"], answer:1 },
  { q:"O que √© tecnologia mRNA usada em vacinas modernas?", choices:["Introduz v√≠rus vivo no corpo","Instru√ß√µes para c√©lulas produzirem prote√≠na viral e gerar resposta imune","Antibi√≥tico novo","Aditivo que aumenta alergias"], answer:1 },
  { q:"O que significa 'infodemia'?", choices:["Aumento de doen√ßas infecciosas","Excesso de informa√ß√£o (muitas vezes errada) que atrapalha achar a verdade","Nova variante de v√≠rus","Campanha de vacina√ß√£o"], answer:1 },
  { q:"Qual atitude ajuda a combater fake news sobre vacinas?", choices:["Compartilhar informa√ß√µes sem checar","Checar em fontes confi√°veis (Minist√©rio/OMS)","Ignorar tudo","Confiar apenas em redes sociais"], answer:1 },
  { q:"Qual inova√ß√£o log√≠stica tem sido usada na entrega de vacinas?", choices:["Drones para √°reas remotas","Liga√ß√µes por r√°dio somente","Proibir transporte noturno","Vacinar s√≥ em hospitais"], answer:0 },
  { q:"Por que vacinas de dose √∫nica s√£o vantajosas?", choices:["S√£o mais caras","Facilitam ades√£o sem segunda dose","Maior risco","Ineficazes"], answer:1 },
  { q:"Qual pr√°tica N√ÉO ajuda a diminuir a infodemia?", choices:["Criar materiais educativos","Treinar profissionais de sa√∫de","Eliminar opini√µes diferentes","Fazer FAQs oficiais"], answer:2 },
  { q:"Por que √© importante vacinar grande parte da popula√ß√£o?", choices:["Protege apenas o vacinado","Cria imunidade coletiva e protege vulner√°veis","√â s√≥ estat√≠stica","Substitui higiene"], answer:1 },
  { q:"Quais s√£o fontes confi√°veis para checar vacinas?", choices:["Perfis populares no Instagram","Sites oficiais, universidades e publica√ß√µes cient√≠ficas","Mensagens de WhatsApp","P√°ginas an√¥nimas"], answer:1 },
  { q:"O que √© um ensaio cl√≠nico?", choices:["Teste controlado em volunt√°rios para avaliar seguran√ßa e efic√°cia","Campanha de marketing","Distribui√ß√£o para farm√°cias","Vacina caseira"], answer:0 },
  { q:"Como tecnologias digitais ajudam nas campanhas de vacina√ß√£o?", choices:["Sem utilidade","Rastreamento, agendamento e comunica√ß√£o oficial","Substituem profissionais","Criando boatos"], answer:1 },
  { q:"Manchete sensacionalista sem fonte √© geralmente:", choices:["Prova confi√°vel","Sinal para checar a fonte antes de compartilhar","Prova cient√≠fica","Pol√≠tica p√∫blica"], answer:1 },
  { q:"Papel dos profissionais de sa√∫de no combate √† infodemia:", choices:["Ignorar d√∫vidas","Dialogar e indicar fontes confi√°veis","Proibir informa√ß√µes","Criar teorias"], answer:1 },
  { q:"O que garante que uma vacina √© segura?", choices:["Testes, ensaios cl√≠nicos e √≥rg√£os reguladores","Opini√µes em redes sociais","Publicidade","Pre√ßo"], answer:0 },
  { q:"Por que identificar a origem de uma not√≠cia √© importante?", choices:["Para viralizar","Para verificar credibilidade e evitar boatos","Para concord√¢ncia geral","Para cr√©dito ao autor"], answer:1 }
];

/* ===== STATE & ELEMENTS ===== */
const startBtn = document.getElementById('startBtn');
const registerScreen = document.getElementById('registerScreen');
const quizArea = document.getElementById('quizArea');
const endScreen = document.getElementById('endScreen');
const playerNameInput = document.getElementById('playerName');
const qIndex = document.getElementById('qIndex');
const questionText = document.getElementById('questionText');
const choicesList = document.getElementById('choicesList');
const progressPct = document.getElementById('progressPct');
const finalScore = document.getElementById('finalScore');
const endBoard = document.getElementById('endBoard');
const leaderboardKey = 'imunizaquiz_github_cleiitoon87_v1';
let state = { name:null, index:0, score:0, timerId:null };

/* ===== LEADERBOARD ===== */
function loadLB(){ try{ const raw = localStorage.getItem(leaderboardKey); return raw?JSON.parse(raw):[] }catch(e){return[] } }
function saveLB(arr){ localStorage.setItem(leaderboardKey, JSON.stringify(arr)); renderSidebar(); }
function renderSidebar(){
  const list = loadLB().slice(); // most recent first already
  const div = document.getElementById('leaderboardList'); div.innerHTML='';
  if(list.length===0){ div.innerHTML = '<div class="tiny muted">Nenhum resultado ainda.</div>'; document.getElementById('topName').innerText='‚Äî'; document.getElementById('topScore').innerText='‚Äî'; return; }
  // determine top score
  const top = list.slice().sort((a,b)=>b.score-a.score)[0];
  document.getElementById('topName').innerText = top ? top.name : '‚Äî';
  document.getElementById('topScore').innerText = top ? (top.score + ' pts') : '‚Äî';
  // show up to last 10 (most recent first)
  const last = list.slice(0,10);
  last.forEach(item=>{
    const el = document.createElement('div'); el.className='leaderboard-item';
    el.innerHTML = `<div style="font-weight:800">${escapeHtml(item.name)}</div><div class="tiny">${item.score} pts ‚Ä¢ ${new Date(item.date).toLocaleString()}</div>`;
    div.appendChild(el);
  });
}
function escapeHtml(s){ return String(s).replace(/[&<>"']/g, m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#39;"}[m])); }

/* ===== GAME FLOW ===== */
startBtn.addEventListener('click', ()=>{
  const name = playerNameInput.value.trim();
  if(!name){ alert('Coloque seu nome para come√ßar.'); playerNameInput.focus(); return; }
  state.name = name;
  state.index = 0; state.score = 0;
  registerScreen.style.display='none'; quizArea.style.display=''; endScreen.style.display='none';
  renderQuestion(); renderSidebar();
});

function renderQuestion(){
  clearTimer();
  const q = QUESTIONS[state.index];
  qIndex.innerText = `Pergunta ${state.index+1} / ${QUESTIONS.length}`;
  questionText.innerText = q.q;
  choicesList.innerHTML = '';
  q.choices.forEach((c, idx)=>{
    const el = document.createElement('div'); el.className='choice'; el.dataset.idx = idx;
    el.innerHTML = `<div style="width:30px;height:30px;border-radius:8px;background:linear-gradient(90deg,var(--accentA),var(--accentB));display:flex;align-items:center;justify-content:center;color:white;font-weight:800">${String.fromCharCode(65+idx)}</div><div>${escapeHtml(c)}</div>`;
    el.addEventListener('click', ()=> {
      // silently score and advance
      if(Number(idx) === Number(q.answer)) state.score += POINTS_PER_QUESTION;
      clearTimer();
      state.index++;
      if(state.index >= QUESTIONS.length) finishGame(); else renderQuestion();
    });
    choicesList.appendChild(el);
  });
  progressPct.innerText = `Progresso: ${Math.round((state.index/QUESTIONS.length)*100)}%`;
  startTimer();
}

function startTimer(){
  clearTimer();
  state.timerId = setTimeout(()=>{
    // timeout: treat as no answer and advance
    state.index++;
    if(state.index >= QUESTIONS.length) finishGame(); else renderQuestion();
  }, SECONDS_PER_QUESTION * 1000);
}
function clearTimer(){ if(state.timerId){ clearTimeout(state.timerId); state.timerId = null; } }

function finishGame(){
  clearTimer();
  quizArea.style.display='none'; endScreen.style.display='';
  finalScore.innerText = `${state.score} pts`;
  // save to LB (most recent first)
  const lb = loadLB(); lb.unshift({ name: state.name, score: state.score, date: new Date().toISOString() });
  saveLB(lb);
  showEndBoard();
}

function showEndBoard(){
  const list = loadLB().slice(0,20);
  if(list.length===0){ endBoard.innerHTML = '<div class="tiny muted">Nenhum resultado ainda.</div>'; return; }
  let html = '<div style="font-weight:800;margin-bottom:8px">√öltimos jogadores (local)</div>';
  list.forEach(it=>{
    html += `<div style="display:flex;justify-content:space-between;padding:8px;border-radius:8px;border:1px dashed rgba(15,23,42,0.04);margin-bottom:6px"><div><strong>${escapeHtml(it.name)}</strong><div class="tiny" style="color:var(--muted)">${new Date(it.date).toLocaleString()}</div></div><div style="font-weight:900">${it.score} pts</div></div>`;
  });
  endBoard.innerHTML = html;
}

/* controls (no replay button) */
document.getElementById('clearBoard').addEventListener('click', ()=>{ if(confirm('Apagar todos os resultados locais?')){ localStorage.removeItem(leaderboardKey); renderSidebar(); alert('Placar apagado.'); } });
document.getElementById('exportBtn').addEventListener('click', ()=>{ const list = loadLB(); if(list.length===0){ alert('Nenhum resultado para exportar.'); return; } const blob = new Blob([JSON.stringify(list, null, 2)], { type: 'application/json' }); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href=url; a.download='placar_imunizaquiz.json'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url); });

/* init */
renderSidebar();

/* accessibility: Enter to start */
document.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' && registerScreen.style.display !== 'none') startBtn.click(); });
</script>
</body>
</html>
